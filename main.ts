controller.up.onEvent(ControllerButtonEvent.Pressed, function () {
    if (mySprite.vy == 0) {
        mySprite.vy += -200
        mySprite.setImage(img`
            7 2 2 7 7 . . . . . . . . . . . 
            9 2 2 9 9 . . . . . . . . . . . 
            9 2 2 9 9 . . . . . . . . . . . 
            9 9 9 9 9 . . . . . . . . . . . 
            9 9 9 9 9 . . . . . . . . . . . 
            9 9 9 9 9 . . . . . . . . . . . 
            9 9 9 9 9 . . . . . . . . . . . 
            9 9 9 9 9 . . . . . . . . . . . 
            9 9 9 9 9 . . . . . . . . . . . 
            e . . e . . . . . . . . . . . . 
            e . . e . . . . . . . . . . . . 
            7 . . 7 . . . . . . . . . . . . 
            7 7 . 7 7 . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `)
    }
})
scene.onOverlapTile(SpriteKind.Player, assets.tile`tile4`, function (sprite, location) {
    mySprite.vy += -350
})
controller.left.onEvent(ControllerButtonEvent.Pressed, function () {
    mySprite.setImage(img`
        7 7 7 7 7 . . . . . . . . . . . 
        2 2 2 9 9 . . . . . . . . . . . 
        2 2 2 9 9 . . . . . . . . . . . 
        9 9 9 9 9 . . . . . . . . . . . 
        9 9 9 9 9 . . . . . . . . . . . 
        9 9 9 9 9 . . . . . . . . . . . 
        9 9 9 9 9 . . . . . . . . . . . 
        9 9 9 9 9 . . . . . . . . . . . 
        9 9 9 9 9 . . . . . . . . . . . 
        . e . . e . . . . . . . . . . . 
        . e . . e . . . . . . . . . . . 
        7 e . 7 e . . . . . . . . . . . 
        7 7 . 7 7 . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `)
})
scene.onOverlapTile(SpriteKind.Player, assets.tile`tile3`, function (sprite, location) {
    mySprite.x += -10
    Level += 1
    tiles.placeOnTile(mySprite, tiles.getTileLocation(0, 15))
})
statusbars.onZero(StatusBarKind.Health, function (status) {
    game.over(false)
})
controller.right.onEvent(ControllerButtonEvent.Pressed, function () {
    mySprite.setImage(img`
        7 7 7 7 7 . . . . . . . . . . . 
        9 9 2 2 2 . . . . . . . . . . . 
        9 9 2 2 2 . . . . . . . . . . . 
        9 9 9 9 9 . . . . . . . . . . . 
        9 9 9 9 9 . . . . . . . . . . . 
        9 9 9 9 9 . . . . . . . . . . . 
        9 9 9 9 9 . . . . . . . . . . . 
        9 9 9 9 9 . . . . . . . . . . . 
        9 9 9 9 9 . . . . . . . . . . . 
        e . . e . . . . . . . . . . . . 
        e . . e . . . . . . . . . . . . 
        e 7 . e 7 . . . . . . . . . . . 
        7 7 . 7 7 . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `)
})
scene.onOverlapTile(SpriteKind.Player, assets.tile`tile2`, function (sprite, location) {
    mySprite.vy += -250
    statusbar.value += -10
})
controller.down.onEvent(ControllerButtonEvent.Pressed, function () {
    mySprite.setImage(img`
        . . . . 7 7 . 7 7 . . . . . . . 
        . . . . e . . e . . . . . . . . 
        . . . . 9 9 9 9 . . . . . . . . 
        . . . . 9 9 9 9 . . . . . . . . 
        . . . . 9 9 9 9 . . . . . . . . 
        . . . . 9 9 9 9 . . . . . . . . 
        . . . . 9 9 9 9 . . . . . . . . 
        . . . . 9 9 9 9 . . . . . . . . 
        . . . . 9 9 9 9 . . . . . . . . 
        . . . . 9 2 2 9 . . . . . . . . 
        . . . . 9 2 2 9 . . . . . . . . 
        . . . . 7 7 7 7 . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `)
})
let mySprite: Sprite = null
let statusbar: StatusBarSprite = null
info.startCountdown(175)
statusbar = statusbars.create(40, 8, StatusBarKind.Health)
statusbar.value = 100
statusbar.max = 70
statusbar.positionDirection(CollisionDirection.Bottom)
let Level = 1
tiles.setTilemap(tilemap`level10`)
mySprite = sprites.create(img`
    7 7 7 7 7 . . . . . . . . . . . 
    9 9 2 2 2 . . . . . . . . . . . 
    9 9 2 2 2 . . . . . . . . . . . 
    9 9 9 9 9 . . . . . . . . . . . 
    9 9 9 9 9 . . . . . . . . . . . 
    9 9 9 9 9 . . . . . . . . . . . 
    9 9 9 9 9 . . . . . . . . . . . 
    9 9 9 9 9 . . . . . . . . . . . 
    9 9 9 9 9 . . . . . . . . . . . 
    e . . . e . . . . . . . . . . . 
    e . . . e . . . . . . . . . . . 
    e 7 . . e 7 . . . . . . . . . . 
    7 7 . . 7 7 . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    `, SpriteKind.Player)
mySprite.ay = 350
tiles.placeOnTile(mySprite, tiles.getTileLocation(0, 10))
scene.cameraFollowSprite(mySprite)
controller.moveSprite(mySprite, 100, 0)
scene.setBackgroundColor(15)
music.play(music.createSong(hex`005a000408040405001c000f0a006400f4010a0000040000000000000000000000000000000002580000000400012a08000c00012010001400012518001c00012720002400012224002800011b34003800021e2c40004400012448004c00021e294c005000012258005c0001255c006000031e292a64006800012074007800012006001c00010a006400f4016400000400000000000000000000000000000000025c00040008000220270c001000011e10001400012514001800012718001c00021d2c1c002000012028002c0001202c00300001293c00400001204c005000012564006800011d6c007000011e70007400012478007c0001277c008000012007001c00020a006400f401640000040000000000000000000000000000000003840008000c00012010001400021b2a14001800011e200024000324292c2400280001252c003000012030003400012738003c00031b222a3c0040000119400044000129440048000322252948004c00011b500054000319202c5c006000021b2564006800012268006c00012970007400012774007800012078007c00021b247c00800002202909010e02026400000403780000040a000301000000640001c80000040100000000640001640000040100000000fa0004af00000401c80000040a00019600000414000501006400140005010000002c0104dc00000401fa0000040a0001c8000004140005d0076400140005d0070000c800029001f40105c201f4010a0005900114001400039001000005c201f4010500058403050032000584030000fa00049001000005c201f4010500058403c80032000584030500640005840300009001049001000005c201f4010500058403c80064000584030500c8000584030000f40105ac0d000404a00f00000a0004ac0d2003010004a00f0000280004ac0d9001010004a00f0000280002d00700040408070f0064000408070000c80003c800c8000e7d00c80019000e64000f0032000e78000000fa00032c01c8000ee100c80019000ec8000f0032000edc000000fa0003f401c8000ea901c80019000e90010f0032000ea4010000fa0001c8000004014b000000c800012c01000401c8000000c8000190010004012c010000c80002c800000404c8000f0064000496000000c80002c2010004045e010f006400042c010000640002c409000404c4096400960004f6090000f40102b80b000404b80b64002c0104f40b0000f401022003000004200300040a000420030000ea01029001000004900100040a000490010000900102d007000410d0076400960010d0070000c8004d000000010001050400050001000800090001090c000d0001071c001d00010728002900030004053c003d00010748004900020204540055000204095c005d00010364006500010878007900020405`), music.PlaybackMode.UntilDone)
music.setVolume(68)
music.setTempo(52)
game.onUpdate(function () {
    if (Level == 0) {
        tiles.setTilemap(tilemap`level10`)
    } else if (Level == 2) {
        tiles.setTilemap(tilemap`level2`)
    } else if (Level == 3) {
        tiles.setTilemap(tilemap`level3`)
    } else if (Level == 4) {
        tiles.setTilemap(tilemap`4`)
    } else if (Level == 5) {
        tiles.setTilemap(tilemap`level5`)
    } else if (Level == 6) {
        tiles.setCurrentTilemap(tilemap`level16`)
    } else if (Level == 7) {
        scene.setBackgroundImage(img`
            ..................777..............
            777.....7777....7777777............
            7777...77777....7777777........7777
            77777.777777....77777777...777.7777
            .7777777777....7777.7777...777.7777
            .777777777.....7777.7777..7777..777
            ..77777777.....777.77777..7777..777
            ...777777......77777777...777...777
            ...77777.......77777777...7777..777
            ...7777........7777777....777777777
            ...7777..........777......777777777
            ............................777777.
            ...................................
            ..........7777..7777...............
            ..777.77777777.777777....7777777...
            ..777.77777777.7777777...7777777...
            ..77777777777..7777777..77777777...
            ..77777777777..7777777..7777.7777..
            ..7777777777...777777...7777.7777..
            ..77777.7777....77777...777...777..
            ...7777.777.....7777..........777..
            ...777.............................
            ...................................
            99999999999999999999999999999999999
            `)
    }
})
